
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Compliant Kubernetes, the Kubernetes platform for software critical to our society. NIS2, ISO-27001, etc.">
      
      
        <meta name="author" content="Elastisys AB">
      
      
        <link rel="canonical" href="https://elastisys.io/compliantkubernetes/operator-manual/troubleshooting/">
      
      
        <link rel="prev" href="../clean-up/">
      
      
        <link rel="next" href="../faq/">
      
      
      <link rel="icon" href="https://elastisys.io/compliantkubernetes/img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Troubleshooting - Elastisys Compliant Kubernetes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/branding.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../../stylesheets/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    

<!-- Matomo Tag Manager -->
<script>
  var _mtm = window._mtm = window._mtm || [];
  _mtm.push({'mtm.startTime': (new Date().getTime()), 'event': 'mtm.Start'});
  (function() {
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src='https://matomo.elastisys.com/js/container_fGrcdd2P.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Tag Manager -->


    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Troubleshooting - Elastisys Compliant Kubernetes" >
      
        <meta  property="og:description"  content="Compliant Kubernetes, the Kubernetes platform for software critical to our society. NIS2, ISO-27001, etc." >
      
        <meta  property="og:image"  content="https://elastisys.io/compliantkubernetes/assets/images/social/operator-manual/troubleshooting.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://elastisys.io/compliantkubernetes/operator-manual/troubleshooting/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Troubleshooting - Elastisys Compliant Kubernetes" >
      
        <meta  name="twitter:description"  content="Compliant Kubernetes, the Kubernetes platform for software critical to our society. NIS2, ISO-27001, etc." >
      
        <meta  name="twitter:image"  content="https://elastisys.io/compliantkubernetes/assets/images/social/operator-manual/troubleshooting.png" >
      
    
    
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  style-src 'self' 'unsafe-inline';
  img-src 'self' data:;
  connect-src 'self' https://matomo.elastisys.com/;
  script-src 'self' 'unsafe-inline' https://matomo.elastisys.com/;
">

<!-- Disable localStorage, sessionStorage and cookies -->
<script>
if (window.localStorage) {
  window.localStorage.setItem = function() { };
  window.localStorage.clear();
}
if (window.sessionStorage) {
  window.sessionStorage.setItem = function() { }
  window.sessionStorage.clear();
}
if(!document.__defineGetter__) {
  Object.defineProperty(document, 'cookie', {
    get: function(){return ''},
    set: function(){return true},
  });
} else {
  document.__defineGetter__("cookie", function() { return '';} );
  document.__defineSetter__("cookie", function() {} );
}
</script>

<!-- See https://realfavicongenerator.net -->
<link rel="apple-touch-icon" sizes="180x180" href="https://elastisys.io/compliantkubernetes/img/apple-touch-icon.png?v=1">
<link rel="icon" type="image/png" sizes="32x32" href="https://elastisys.io/compliantkubernetes/img/favicon-32x32.png?v=1">
<link rel="icon" type="image/png" sizes="16x16" href="https://elastisys.io/compliantkubernetes/img/favicon-16x16.png?v=1">
<link rel="manifest" href="https://elastisys.io/compliantkubernetes/img/site.webmanifest?v=1">
<link rel="mask-icon" href="https://elastisys.io/compliantkubernetes/img/safari-pinned-tab.svg?v=1" color="#5bbad5">
<link rel="shortcut icon" href="https://elastisys.io/compliantkubernetes/img/favicon.ico?v=1">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="msapplication-config" content="https://elastisys.io/compliantkubernetes/img/browserconfig.xml?v=1">
<meta name="theme-color" content="#ffffff">

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="elastisys" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#troubleshooting-for-platform-administrators" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Elastisys Compliant Kubernetes" class="md-header__button md-logo" aria-label="Elastisys Compliant Kubernetes" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Elastisys Compliant Kubernetes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Troubleshooting
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        

<ul class="header-links">
  <li>
    <a href="https://github.com/elastisys/compliantkubernetes/">
      <img width="25px" src="../../img/git-alt.svg" alt="Git logo" />
    </a>
  </li>
  <li><a href="https://elastisys.com/" class="menu-callout">Try out Managed<br/>Compliant Kubernetes</a></li>
</ul>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Elastisys Compliant Kubernetes" class="md-nav__button md-logo" aria-label="Elastisys Compliant Kubernetes" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Elastisys Compliant Kubernetes
  </label>
  
    <div class="md-nav__source">
      

<ul class="header-links">
  <li>
    <a href="https://github.com/elastisys/compliantkubernetes/">
      <img width="25px" src="../../img/git-alt.svg" alt="Git logo" />
    </a>
  </li>
  <li><a href="https://elastisys.com/" class="menu-callout">Try out Managed<br/>Compliant Kubernetes</a></li>
</ul>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mission-and-vision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mission and Vision
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    For Application Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            For Application Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/prepare/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step 1: Prepare
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step 2: Deploy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/operate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Step 3: Operate
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Go Deeper
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Go Deeper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/prepare-application/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prepare Your Application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/prepare-idp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prepare Your Identity Provider (IdP)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Container registry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/continous-development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Continuous Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/network-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/kubernetes-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/kubernetes-ui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes UI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/namespaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/log-based-alerts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Log-based Alerts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/long-term-log-retention/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Long-term Log Retention
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/metrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metrics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/alerts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metric Alerts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/maintenance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintenance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backups
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/ci-cd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI/CD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/demarcation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demarcation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/delegation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Delegate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/how-many-environments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How many environments?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/cluster-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Safeguards
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Safeguards
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-no-root/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce No Root
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-podsecuritypolicies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce Restricted Privileges
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-networkpolicies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce NetworkPolicies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce Resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-trusted-registries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce Trusted Registries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-no-latest-tag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce No Latest Tag
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-job-ttl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce Job TTL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-no-load-balancer-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce No LoadBalancer Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/safeguards/enforce-minimum-replicas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enforce Minimum Replicas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Additional Services
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Additional Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/additional-services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/additional-services/postgresql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PostgreSQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/additional-services/timescaledb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TimescaleDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/additional-services/redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/additional-services/rabbitmq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RabbitMQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/additional-services/jaeger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jaeger (preview)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/additional-services/argocd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Argo CD (preview)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Self-Managed Services
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Self-Managed Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/self-managed-services/ferretdb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FerretDB (self-managed)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/self-managed-services/keycloak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keycloak (self-managed)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/self-managed-services/jupyterhub/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JupyterHub (self-managed)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/self-managed-services/sealedsecrets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SealedSecrets (self-managed)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/self-managed-services/mongodb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MongoDB (self-managed)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/self-managed-services/sjunet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sjunet (self-managed)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/self-managed-services/flux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flux (self-managed)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/self-managed-services/kafka/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kafka (self-managed)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/go-live/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Go-live Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    For Platform Administrators
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            For Platform Administrators
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../provider-audit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Provider Audit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../on-prem-standard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standard Template for on-prem Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../air-gapped/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Air-gapped Network
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Advanced Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cluster-sizing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sizing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ingress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ingress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../access-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Access Control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../opensearch-mappings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenSearch Mappings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-alerts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Alerts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-managed-crds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Managed CRDs (preview)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disaster-recovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Disaster Recovery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../break-glass/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Breaking the Glass
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cryptography/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use of Cryptography
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use of Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../capacity-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capacity Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clock-synchronization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clock Synchronization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../maintenance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintenance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clean-up/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clean Up
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-have-no-clue-where-to-start" class="md-nav__link">
    <span class="md-ellipsis">
      I have no clue where to start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="I have no clue where to start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#are-the-nodes-still-accessible-via-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Are the Nodes still accessible via SSH?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-the-nodes-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Are the Nodes "doing fine"?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-the-base-os-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Is the base OS doing fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-the-kubernetes-clusters-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Are the Kubernetes clusters doing fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-rook-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Is Rook doing fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-kubernetes-pods-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Are Kubernetes Pods doing fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-helm-releases-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Are Helm Releases fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-cert-manager-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Is cert-manager doing fine?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-do-i-find-the-nodes-public-and-private-ip" class="md-nav__link">
    <span class="md-ellipsis">
      Where do I find the Nodes public and private IP?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-cannot-be-accessed-via-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Node cannot be accessed via SSH
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-node-has-incorrect-time" class="md-nav__link">
    <span class="md-ellipsis">
      A Node has incorrect time
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-seems-not-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Node seems not fine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-seems-really-not-fine-i-want-a-new-one" class="md-nav__link">
    <span class="md-ellipsis">
      Node seems really not fine. I want a new one
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#okay-i-want-to-add-a-new-node" class="md-nav__link">
    <span class="md-ellipsis">
      Okay, I want to add a new Node
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-systemd-unit-failed" class="md-nav__link">
    <span class="md-ellipsis">
      A systemd unit failed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rook-seems-not-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Rook seems not fine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pod-seems-not-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Pod seems not fine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#helm-release-is-failed" class="md-nav__link">
    <span class="md-ellipsis">
      Helm Release is failed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cert-manager-is-not-fine" class="md-nav__link">
    <span class="md-ellipsis">
      cert-manager is not fine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cert-manager is not fine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#failed-to-perform-self-check-no-such-host" class="md-nav__link">
    <span class="md-ellipsis">
      Failed to perform self check: no such host
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed-to-perform-self-check-connection-timed-out" class="md-nav__link">
    <span class="md-ellipsis">
      Failed to perform self check: connection timed out
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-check-if-infrastructure-drifted-due-to-manual-intervention" class="md-nav__link">
    <span class="md-ellipsis">
      How do I check if infrastructure drifted due to manual intervention?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-check-if-the-kubespray-setup-drifted-due-to-manual-intervention" class="md-nav__link">
    <span class="md-ellipsis">
      How do I check if the Kubespray setup drifted due to manual intervention?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-check-if-apps-drifted-due-to-manual-intervention" class="md-nav__link">
    <span class="md-ellipsis">
      How do I check if apps drifted due to manual intervention?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#velero-backup-stuck-in-progress" class="md-nav__link">
    <span class="md-ellipsis">
      Velero backup stuck in progress
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-use-kubectl-and-helm-directly" class="md-nav__link">
    <span class="md-ellipsis">
      How do I use kubectl and helm directly?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../additional-services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Services
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_18" >
        
          
          <label class="md-nav__link" for="__nav_4_18" id="__nav_4_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_18">
            <span class="md-nav__icon md-icon"></span>
            Configuration Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema/secrets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secrets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    For CISOs and DPOs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            For CISOs and DPOs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/gdpr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GDPR (EU)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/iso-27001/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ISO 27001 (EU)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/nist-sp-800-171/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NIST SP 800-171
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/information-security/dod-enterprise-devsecops-reference-design-kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DoD Enterprise DevSecOps Reference Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Healthcare
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Healthcare
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/hslf-fs-201640/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HSLF-FS 2016:40 (SE)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/hipaa/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HIPAA (US)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/mdr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MDR (EU)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Public sector
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            Public sector
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/msbfs-20207/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MSBFS 2020:7 (SE)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NIS2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            NIS2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/nis2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/kritis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    KRITIS (DE)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/bsi-it-grundschutz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BSI IT-Grundschutz (DE)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/controls/msbfs-20188/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MSBFS 2018:8 (SE)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Industrial control systems
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            Industrial control systems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/isa-iec-62443/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ISA/IEC 62443
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
        
          
          <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CISO Dashboards
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10">
            <span class="md-nav__icon md-icon"></span>
            CISO Dashboards
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/audit-logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audit Logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup Dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/cryptography/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cryptography Dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/intrusion-detection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intrusion Detection Dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/policy-as-code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Policy-as-Code Dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/network-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Security Dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/capacity-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Capacity Management (Kubernetes Status) Dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/vulnerability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vulnerability Dashboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/log-review/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Log Review
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/gdpr-art-17/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How do I comply with GDPR Art. 17 Right to erasure ("right to be forgotten")?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ciso-guide/pdl-audit-logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How do I comply with HSLF-FS 2016:40 4 kap. 9  Kontroll av tkomst till uppgifter?
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    For Contributors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            For Contributors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributor-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../adr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architectural Decision Log
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tech-radar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tech Radar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quality-criteria/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quality Criteria
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/ck8s/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compliant Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/kubespray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CK8S Kubespray
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/capi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CK8S Cluster API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/postgres/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CK8S PostgreSQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/rabbitmq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CK8S RabbitMQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CK8S Redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/jaeger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CK8S Jaeger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/argocd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CK8S Argo CD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://elastisys.com/managed-services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fully Managed Compliant Kubernetes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://elastisys.com/self-managed/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support for Self-Managed Compliant Kubernetes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://elastisys.com/consulting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consulting
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://elastisys.com/training/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Official Training
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://elastisys.com/blog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://elastisys.com/legal/privacy-policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Privacy Policy
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#i-have-no-clue-where-to-start" class="md-nav__link">
    <span class="md-ellipsis">
      I have no clue where to start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="I have no clue where to start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#are-the-nodes-still-accessible-via-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Are the Nodes still accessible via SSH?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-the-nodes-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Are the Nodes "doing fine"?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-the-base-os-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Is the base OS doing fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-the-kubernetes-clusters-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Are the Kubernetes clusters doing fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-rook-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Is Rook doing fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-kubernetes-pods-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Are Kubernetes Pods doing fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#are-helm-releases-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Are Helm Releases fine?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-cert-manager-doing-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Is cert-manager doing fine?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#where-do-i-find-the-nodes-public-and-private-ip" class="md-nav__link">
    <span class="md-ellipsis">
      Where do I find the Nodes public and private IP?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-cannot-be-accessed-via-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Node cannot be accessed via SSH
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-node-has-incorrect-time" class="md-nav__link">
    <span class="md-ellipsis">
      A Node has incorrect time
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-seems-not-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Node seems not fine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#node-seems-really-not-fine-i-want-a-new-one" class="md-nav__link">
    <span class="md-ellipsis">
      Node seems really not fine. I want a new one
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#okay-i-want-to-add-a-new-node" class="md-nav__link">
    <span class="md-ellipsis">
      Okay, I want to add a new Node
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-systemd-unit-failed" class="md-nav__link">
    <span class="md-ellipsis">
      A systemd unit failed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rook-seems-not-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Rook seems not fine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pod-seems-not-fine" class="md-nav__link">
    <span class="md-ellipsis">
      Pod seems not fine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#helm-release-is-failed" class="md-nav__link">
    <span class="md-ellipsis">
      Helm Release is failed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cert-manager-is-not-fine" class="md-nav__link">
    <span class="md-ellipsis">
      cert-manager is not fine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="cert-manager is not fine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#failed-to-perform-self-check-no-such-host" class="md-nav__link">
    <span class="md-ellipsis">
      Failed to perform self check: no such host
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failed-to-perform-self-check-connection-timed-out" class="md-nav__link">
    <span class="md-ellipsis">
      Failed to perform self check: connection timed out
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-check-if-infrastructure-drifted-due-to-manual-intervention" class="md-nav__link">
    <span class="md-ellipsis">
      How do I check if infrastructure drifted due to manual intervention?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-check-if-the-kubespray-setup-drifted-due-to-manual-intervention" class="md-nav__link">
    <span class="md-ellipsis">
      How do I check if the Kubespray setup drifted due to manual intervention?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-check-if-apps-drifted-due-to-manual-intervention" class="md-nav__link">
    <span class="md-ellipsis">
      How do I check if apps drifted due to manual intervention?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#velero-backup-stuck-in-progress" class="md-nav__link">
    <span class="md-ellipsis">
      Velero backup stuck in progress
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-do-i-use-kubectl-and-helm-directly" class="md-nav__link">
    <span class="md-ellipsis">
      How do I use kubectl and helm directly?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="troubleshooting-for-platform-administrators">Troubleshooting for Platform Administrators<a class="headerlink" href="#troubleshooting-for-platform-administrators" title="Permanent link">&para;</a></h1>
<div class="admonition elastisys-self-managed">
<p class="admonition-title">For Elastisys Self-Managed Customers</p>
<p>Please start by running <a href="./#i-have-no-clue-where-to-start">these commands</a>.</p>
<p>If you are struggling, don't hesitate to <a href="https://elastisys.atlassian.net/servicedesk/customer/portals">file a ticket</a>.</p>
<p>You can run the following command  from the <a href="https://github.com/elastisys/compliantkubernetes-apps">compliantkubernetes-apps</a> repository to collect diagnostic information that will help us support you.</p>
<p><code>CK8S_PGP_FP=&lt;fingerprint provided during onboarding&gt; ./bin/ck8s diagnostics [sc|wc]</code></p>
<p>Please also provide us with your terminal in a text format.
We need to look both at the commands you typed and their output.</p>
</div>
<p>Help! Something is wrong with my Compliant Kubernetes cluster. Fear no more, this guide will help you make sense.</p>
<p>This guide assumes that:</p>
<ul>
<li>You have <a href="../getting-started/">pre-requisites</a> installed.</li>
<li>Your environment variables, in particular <code>CK8S_CONFIG_PATH</code> is set, and <code>CLUSTER</code> set to either <code>sc</code> or <code>wc</code>.</li>
<li>Your config folder is available.</li>
<li><code>compliantkubernetes-apps</code> and <code>compliantkubernetes-kubespray</code> is available.</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code>./bin/ck8s</code> references the <code>compliantkubernetes-apps</code> CLI
<code>./bin/ck8s-kubespray</code> references the <code>compliantkubernetes-kubespray</code> CLI</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>For some of the ansible commands below, you might require root privileges. To run commands as a privileged user with ansible, use the <code>--become, -b</code> flag.</p>
<p>Example:
<code>ansible -i inventory.ini -b all -m ping</code></p>
</div>
<h2 id="i-have-no-clue-where-to-start">I have no clue where to start<a class="headerlink" href="#i-have-no-clue-where-to-start" title="Permanent link">&para;</a></h2>
<p>If you get lost, start checking from the "physical layer" and up.</p>
<h3 id="are-the-nodes-still-accessible-via-ssh">Are the Nodes still accessible via SSH?<a class="headerlink" href="#are-the-nodes-still-accessible-via-ssh" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="si">${</span><span class="nv">CK8S_CONFIG_PATH</span><span class="si">}</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>ping
</code></pre></div>
<h3 id="are-the-nodes-doing-fine">Are the Nodes "doing fine"?<a class="headerlink" href="#are-the-nodes-doing-fine" title="Permanent link">&para;</a></h3>
<p>Dmesg should not display unexpected messages. <a href="https://en.wikipedia.org/wiki/Out_of_memory">OOM</a> will show up here.</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="si">${</span><span class="nv">CK8S_CONFIG_PATH</span><span class="si">}</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;echo; hostname; dmesg | tail -n 10&#39;</span>
</code></pre></div>
<p>Uptime should show high uptime (e.g., days) and low load (e.g., less than 3):</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;echo; hostname; uptime&#39;</span>
</code></pre></div>
<p>Any process that uses too much CPU?</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;echo; hostname; ps -Ao user,uid,comm,pid,pcpu,tty --sort=-pcpu | head -n 6&#39;</span>
</code></pre></div>
<p>Is there enough disk space? All writeable file-systems should have at least 30% free.</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;echo; hostname; df -h&#39;</span>
</code></pre></div>
<p>Is there enough available memory? There should be at least a few GB of available memory.</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;echo; hostname; cat /proc/meminfo | grep Available&#39;</span>
</code></pre></div>
<p>Can Nodes access the Internet?</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;echo; hostname; curl --silent  https://checkip.amazonaws.com&#39;</span>
</code></pre></div>
<p>Are the Nodes having the proper time? You should see <code>System clock synchronized: yes</code> and <code>NTP service: active</code>.</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;echo; timedatectl status&#39;</span>
</code></pre></div>
<h3 id="is-the-base-os-doing-fine">Is the base OS doing fine?<a class="headerlink" href="#is-the-base-os-doing-fine" title="Permanent link">&para;</a></h3>
<p>We generally run the latest <a href="https://ubuntu.com/blog/what-is-an-ubuntu-lts-release">Ubuntu LTS</a>, at the time of this writing Ubuntu 20.04 LTS.</p>
<p>You can confirm this by doing:</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;cat /etc/lsb-release&#39;</span>
</code></pre></div>
<p>Are systemd units running fine? You should see <code>running</code> and not <code>degraded</code>.</p>
<div class="highlight"><pre><span></span><code>ansible<span class="w"> </span>-i<span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>all<span class="w"> </span>-m<span class="w"> </span>shell<span class="w"> </span>-a<span class="w"> </span><span class="s1">&#39;systemctl is-system-running&#39;</span>
</code></pre></div>
<h3 id="are-the-kubernetes-clusters-doing-fine">Are the Kubernetes clusters doing fine?<a class="headerlink" href="#are-the-kubernetes-clusters-doing-fine" title="Permanent link">&para;</a></h3>
<p>Are the Nodes reporting in on Kubernetes? All Kubernetes Nodes, both control-plane and workers, should be <code>Ready</code>:</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>get<span class="w"> </span>nodes
</code></pre></div>
<h3 id="is-rook-doing-fine">Is Rook doing fine?<a class="headerlink" href="#is-rook-doing-fine" title="Permanent link">&para;</a></h3>
<p>If Rook is installed, is Rook doing fine? You should see <code>HEALTH_OK</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">CK8S_KUBESPRAY_PATH</span><span class="o">=</span>/path/to/compliantkubernetes-kubespray

./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>-n<span class="w"> </span>rook-ceph<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span><span class="nv">$CK8S_KUBESPRAY_PATH</span>/rook/toolbox-deploy.yaml
</code></pre></div>
<p>Once the Pod is Ready run:</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>-n<span class="w"> </span>rook-ceph<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>deploy/rook-ceph-tools<span class="w"> </span>--<span class="w"> </span>ceph<span class="w"> </span>status
</code></pre></div>
<h3 id="are-kubernetes-pods-doing-fine">Are Kubernetes Pods doing fine?<a class="headerlink" href="#are-kubernetes-pods-doing-fine" title="Permanent link">&para;</a></h3>
<p>Pods should be <code>Running</code> or <code>Completed</code>, and fully <code>Ready</code> (e.g., <code>1/1</code> or <code>6/6</code>)?</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>get<span class="w"> </span>--all-namespaces<span class="w"> </span>pods
</code></pre></div>
<p>Are all Deployments fine? Deployments should show all Pods Ready, Up-to-date and Available (e.g., <code>2/2 2 2</code>).</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>get<span class="w"> </span>--all-namespaces<span class="w"> </span>deployments
</code></pre></div>
<p>Are all DaemonSets fine? DaemonSets should show as many Pods Desired, Current, Ready and Up-to-date, as Desired.</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>get<span class="w"> </span>--all-namespaces<span class="w"> </span>ds
</code></pre></div>
<h3 id="are-helm-releases-fine">Are Helm Releases fine?<a class="headerlink" href="#are-helm-releases-fine" title="Permanent link">&para;</a></h3>
<p>All Releases should be <code>deployed</code>.</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helm<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>list<span class="w"> </span>--all<span class="w"> </span>--all-namespaces
</code></pre></div>
<h3 id="is-cert-manager-doing-fine">Is cert-manager doing fine?<a class="headerlink" href="#is-cert-manager-doing-fine" title="Permanent link">&para;</a></h3>
<p>Are (Cluster)Issuers fine? All Resources should be <code>READY=True</code> or <code>valid</code>.</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>get<span class="w"> </span>clusterissuers,issuers,certificates,orders,challenges<span class="w"> </span>--all-namespaces
</code></pre></div>
<h2 id="where-do-i-find-the-nodes-public-and-private-ip">Where do I find the Nodes public and private IP?<a class="headerlink" href="#where-do-i-find-the-nodes-public-and-private-ip" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>-name<span class="w"> </span>inventory.ini
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code>ansible-inventory<span class="w"> </span>-i<span class="w"> </span><span class="si">${</span><span class="nv">CK8S_CONFIG_PATH</span><span class="si">}</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini<span class="w"> </span>--list<span class="w"> </span>all
</code></pre></div>
<p><code>ansible_host</code> is usually the public IP, while <code>ip</code> is usually the private IP.</p>
<h2 id="node-cannot-be-accessed-via-ssh">Node cannot be accessed via SSH<a class="headerlink" href="#node-cannot-be-accessed-via-ssh" title="Permanent link">&para;</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Make sure it is "not you". Are you well connected to the VPN? Is this the only Node which lost SSH access?</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you are using Rook, it is usually set up with replication 2, which means it can tolerate <strong>one</strong> restarting Node. Make sure that, either Rook is healthy or that you are really sure you are restarting the right Node.</p>
</div>
<p>Try connecting to the unhealthy Node via a different Node and internal IP:</p>
<div class="highlight"><pre><span></span><code><span class="nv">UNHEALTHY_NODE</span><span class="o">=</span><span class="m">172</span>.0.10.205<span class="w">  </span><span class="c1"># You lost access to this one</span>
<span class="nv">JUMP_NODE</span><span class="o">=</span><span class="m">89</span>.145.xxx.yyy<span class="w">  </span><span class="c1"># You have access to this one</span>

ssh<span class="w"> </span>-J<span class="w"> </span>ubuntu@<span class="nv">$JUMP_NODE</span><span class="w"> </span>ubuntu@<span class="nv">$UNHEALTHY_NODE</span>
</code></pre></div>
<p>Try rebooting the Node via Infrastructure Provider specific CLI:</p>
<div class="highlight"><pre><span></span><code><span class="nv">UNHEALTHY_NODE</span><span class="o">=</span>cksc-worker-2

<span class="c1"># Example for ExoScale</span>
exo<span class="w"> </span>vm<span class="w"> </span>reboot<span class="w"> </span>--force<span class="w"> </span><span class="nv">$UNHEALTHY_NODE</span>
</code></pre></div>
<p>If using Rook make sure its health goes back to <code>HEALTH_OK</code>.</p>
<h2 id="a-node-has-incorrect-time">A Node has incorrect time<a class="headerlink" href="#a-node-has-incorrect-time" title="Permanent link">&para;</a></h2>
<p>Incorrect time on a Node can have sever consequences with replication and monitoring.
In fact, if you follow ISO 27001, <a href="https://www.isms.online/iso-27001/annex-a-12-operations-security/">A.12.4.4 Clock Synchronisation</a> requires you to ensure clocks are synchronized.</p>
<p>These days, Linux distributions should come out-of-the-box with <a href="https://www.freedesktop.org/software/systemd/man/latest/systemd-timesyncd.service.html">timesyncd</a> for time synchronization via NTP.</p>
<p>To figure out what is wrong, SSH into the target Node and try the following:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>systemd-timesyncd
sudo<span class="w"> </span>journalctl<span class="w"> </span>--unit<span class="w"> </span>systemd-timesyncd
sudo<span class="w"> </span>timedatectl<span class="w"> </span>status
sudo<span class="w"> </span>timedatectl<span class="w"> </span>timesync-status
sudo<span class="w"> </span>timedatectl<span class="w"> </span>show-timesync
</code></pre></div>
<p>Possible causes include incorrect NTP server settings, or NTP being blocked by firewall.
For reminder, NTP works over UDP port 123.</p>
<h2 id="node-seems-not-fine">Node seems not fine<a class="headerlink" href="#node-seems-not-fine" title="Permanent link">&para;</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you are using Rook, it is usually set up with replication 2, which means it can tolerate <strong>one</strong> restarting Node. Make sure that, either Rook is healthy or that you are really sure you are restarting the right Node.</p>
</div>
<p>Try rebooting the Node:</p>
<div class="highlight"><pre><span></span><code><span class="nv">UNHEALTHY_NODE</span><span class="o">=</span><span class="m">89</span>.145.xxx.yyy

ssh<span class="w"> </span>ubuntu@<span class="nv">$UNHEALTHY_NODE</span><span class="w"> </span>sudo<span class="w"> </span>reboot
</code></pre></div>
<p>If using Rook make sure its health goes back to <code>HEALTH_OK</code>.</p>
<h2 id="node-seems-really-not-fine-i-want-a-new-one">Node seems really not fine. I want a new one<a class="headerlink" href="#node-seems-really-not-fine-i-want-a-new-one" title="Permanent link">&para;</a></h2>
<p>Is it 2AM? Do not replace Nodes, instead simply add a new one. You might run out of capacity, you might lose redundancy, you might replace the wrong Node. Prefer to add a Node and see if that solves the problem.</p>
<h2 id="okay-i-want-to-add-a-new-node">Okay, I want to add a new Node<a class="headerlink" href="#okay-i-want-to-add-a-new-node" title="Permanent link">&para;</a></h2>
<p>Prefer this option if you "quickly" need to add CPU, memory or storage (i.e., Rook) capacity.</p>
<p>First, check for infrastructure drift, as shown <a href="#how-do-i-check-if-infrastructure-drifted-due-to-manual-intervention">here</a>.</p>
<p>Depending on your provider:
If the infrastructure is not managed by terraform you can skip to step 3:</p>
<ol>
<li>Add a new Node by editing the <code>*.tfvars</code>.</li>
<li>Re-apply Terraform.</li>
<li>Add the new node to the <code>inventory.ini</code> (skip this step if the cluster is using a dynamic inventory).</li>
<li>
<p>Re-apply Kubespray only for the new node.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="o">[</span>compliantkubernetes-kubespray-root-dir<span class="o">]</span>

<span class="nv">CLUSTER</span><span class="o">=[</span>sc<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="o">]</span>

./bin/ck8s-kubespray<span class="w"> </span>run-playbook<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>facts.yml
./bin/ck8s-kubespray<span class="w"> </span>run-playbook<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>scale.yml<span class="w"> </span>-b<span class="w"> </span>--limit<span class="o">=[</span>new_node_name<span class="o">]</span>
</code></pre></div>
</li>
<li>
<p>Add ssh keys to the new node if necessary</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s-kubespray<span class="w"> </span>apply-ssh<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>--limit<span class="o">=[</span>new_node_name<span class="o">]</span>
</code></pre></div>
</li>
<li>
<p>Update Network Policies</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span><span class="o">[</span>compliatkubernetes-apps-root-dir<span class="o">]</span>

./bin/ck8s<span class="w"> </span>update-ips<span class="w"> </span>sc<span class="w"> </span>update
./bin/ck8s<span class="w"> </span>update-ips<span class="w"> </span>wc<span class="w"> </span>update

./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helmfile<span class="w"> </span>sc<span class="w"> </span>-l<span class="w"> </span><span class="nv">app</span><span class="o">=</span>common-np<span class="w"> </span>-i<span class="w"> </span>apply
./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helmfile<span class="w"> </span>wc<span class="w"> </span>-l<span class="w"> </span><span class="nv">app</span><span class="o">=</span>common-np<span class="w"> </span>-i<span class="w"> </span>apply

./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helmfile<span class="w"> </span>sc<span class="w"> </span>-l<span class="w"> </span><span class="nv">app</span><span class="o">=</span>service-cluster-np<span class="w"> </span>-i<span class="w"> </span>apply
<span class="c1"># or</span>
./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helmfile<span class="w"> </span>wc<span class="w"> </span>-l<span class="w"> </span><span class="nv">app</span><span class="o">=</span>workload-cluster-np<span class="w"> </span>-i<span class="w"> </span>apply
</code></pre></div>
<p>Check that the new Node joined the cluster, as shown <a href="#are-the-kubernetes-clusters-doing-fine">here</a>.</p>
</li>
</ol>
<h2 id="a-systemd-unit-failed">A systemd unit failed<a class="headerlink" href="#a-systemd-unit-failed" title="Permanent link">&para;</a></h2>
<p>SSH into the Node. Check which systemd unit is failing:</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>--failed
</code></pre></div>
<p>Gather more information:</p>
<div class="highlight"><pre><span></span><code><span class="nv">FAILED_UNIT</span><span class="o">=</span>fwupd-refresh.service

systemctl<span class="w"> </span>status<span class="w"> </span><span class="nv">$FAILED_UNIT</span>
journalctl<span class="w"> </span>--unit<span class="w"> </span><span class="nv">$FAILED_UNIT</span>
</code></pre></div>
<h2 id="rook-seems-not-fine">Rook seems not fine<a class="headerlink" href="#rook-seems-not-fine" title="Permanent link">&para;</a></h2>
<p>Please check the following upstream documents:</p>
<ul>
<li><a href="https://github.com/rook/rook/blob/master/Documentation/Troubleshooting/common-issues.md">Rook Common Issues</a></li>
<li><a href="https://github.com/rook/rook/blob/master/Documentation/Troubleshooting/ceph-common-issues.md">Ceph Common Issues</a></li>
</ul>
<h2 id="pod-seems-not-fine">Pod seems not fine<a class="headerlink" href="#pod-seems-not-fine" title="Permanent link">&para;</a></h2>
<p>Make sure you are on the <strong>right</strong> cluster:</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$CLUSTER</span>
</code></pre></div>
<p>Find the name of the Pod which is not fine:</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>get<span class="w"> </span>pod<span class="w"> </span>-A

<span class="c1"># Copy-paste the Pod and Pod namespace below</span>
<span class="nv">UNHEALTHY_POD</span><span class="o">=</span>prometheus-kube-prometheus-stack-prometheus-0
<span class="nv">UNHEALTHY_POD_NAMESPACE</span><span class="o">=</span>monitoring
</code></pre></div>
<p>Gather some "evidence" for later diagnostics, when the heat is over:</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>describe<span class="w"> </span>pod<span class="w"> </span>-n<span class="w"> </span><span class="nv">$UNHEALTHY_POD_NAMESPACE</span><span class="w"> </span><span class="nv">$UNHEALTHY_POD</span>
./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span><span class="nv">$UNHEALTHY_POD_NAMESPACE</span><span class="w"> </span><span class="nv">$UNHEALTHY_POD</span>
</code></pre></div>
<p>Try to kill and check if the underlying Deployment, StatefulSet or DaemonSet will restart it:</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>delete<span class="w"> </span>pod<span class="w"> </span>-n<span class="w"> </span><span class="nv">$UNHEALTHY_POD_NAMESPACE</span><span class="w"> </span><span class="nv">$UNHEALTHY_POD</span>
./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>get<span class="w"> </span>pod<span class="w"> </span>-A<span class="w"> </span>--watch
</code></pre></div>
<h2 id="helm-release-is-failed">Helm Release is <code>failed</code><a class="headerlink" href="#helm-release-is-failed" title="Permanent link">&para;</a></h2>
<p>Make sure you are on the <strong>right</strong> cluster:</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$CK8S_CONFIG_PATH</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$CLUSTER</span>
</code></pre></div>
<p>Find the failed Release:</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helm<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>ls<span class="w"> </span>--all-namespaces<span class="w"> </span>--all

<span class="nv">FAILED_RELEASE</span><span class="o">=</span>user-rbac
<span class="nv">FAILED_RELEASE_NAMESPACE</span><span class="o">=</span>kube-system
</code></pre></div>
<p>Just to make sure, do a drift check, as shown <a href="#how-do-i-check-if-apps-drifted-due-to-manual-intervention">here</a>.</p>
<p>Remove the failed Release:</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helm<span class="w"> </span><span class="nv">$CLUSTER</span><span class="w"> </span>uninstall<span class="w"> </span>-n<span class="w"> </span><span class="nv">$FAILED_RELEASE_NAMESPACE</span><span class="w"> </span><span class="nv">$FAILED_RELEASE</span>
</code></pre></div>
<p>Re-apply <code>apps</code> according to documentation.</p>
<h2 id="cert-manager-is-not-fine">cert-manager is not fine<a class="headerlink" href="#cert-manager-is-not-fine" title="Permanent link">&para;</a></h2>
<p>Follow cert-manager's troubleshooting, specifically:</p>
<ul>
<li><a href="https://cert-manager.io/docs/troubleshooting/">Troubleshooting</a></li>
<li><a href="https://cert-manager.io/docs/troubleshooting/acme/">Troubleshooting Issuing ACME Certificates</a></li>
</ul>
<h3 id="failed-to-perform-self-check-no-such-host">Failed to perform self check: no such host<a class="headerlink" href="#failed-to-perform-self-check-no-such-host" title="Permanent link">&para;</a></h3>
<p>If with <code>kubectl describe challenges -A</code> you get an error similar to below:</p>
<div class="highlight"><pre><span></span><code>Waiting for HTTP-01 challenge propagation: failed to perform self check
    GET request &#39;&#39;http://url/.well-known/acme-challenge/xVfDZoLlqs4tad2qOiCT4sjChNRausd5iNpbWuGm5ls&#39;&#39;:
    Get &quot;http://url/.well-known/acme-challenge/xVfDZoLlqs4tad2qOiCT4sjChNRausd5iNpbWuGm5ls&quot;:
    dial tcp: lookup opensearch.domain on 10.177.0.3:53: no such host&#39;
</code></pre></div>
<p>Then you might have a DNS issue inside your cluster. Make sure that <code>global.clusterDns</code> in <code>common-config.yaml</code> is set to the CoreDNS Service IP returned by <code>kubectl get svc -n kube-system coredns</code>.</p>
<h3 id="failed-to-perform-self-check-connection-timed-out">Failed to perform self check: connection timed out<a class="headerlink" href="#failed-to-perform-self-check-connection-timed-out" title="Permanent link">&para;</a></h3>
<p>If with <code>kubectl describe challenges -A</code> you get an error similar to below:</p>
<div class="highlight"><pre><span></span><code>Reason: Waiting for http-01 challenge propagation: failed to perform self check GET request &#39;http://abc.com/.well-known/acme-challenge/Oej8tloD2wuHNBWS6eVhSKmGkZNfjLRemPmpJoHOPkA&#39;: Get &quot;http://abc.com/.well-known/acme-challenge/Oej8tloD2wuHNBWS6eVhSKmGkZNfjLRemPmpJoHOPkA&quot;: dial tcp 18.192.17.98:80: connect: connection timed out
</code></pre></div>
<p>Then your Kubernetes data plane Nodes cannot connect to themselves with the IP address of the load-balancer that fronts them. The easiest is to configure the load-balancer's IP address on the loopback interface of each Nodes. (See example <a href="https://github.com/kubernetes-sigs/kubespray/blob/release-2.18/contrib/terraform/exoscale/modules/kubernetes-cluster/templates/cloud-init.tmpl#L29">here</a>.)</p>
<h2 id="how-do-i-check-if-infrastructure-drifted-due-to-manual-intervention">How do I check if infrastructure drifted due to manual intervention?<a class="headerlink" href="#how-do-i-check-if-infrastructure-drifted-due-to-manual-intervention" title="Permanent link">&para;</a></h2>
<p>Go to the docs of the Infrastructure Provider and run Terraform <code>plan</code> instead of <code>apply</code>. For Exoscale, it looks as follows:</p>
<div class="highlight"><pre><span></span><code><span class="nv">TF_SCRIPTS_DIR</span><span class="o">=</span><span class="k">$(</span>readlink<span class="w"> </span>-f<span class="w"> </span>compliantkubernetes-kubespray/kubespray/contrib/terraform/exoscale<span class="k">)</span>
<span class="nb">pushd</span><span class="w"> </span><span class="si">${</span><span class="nv">TF_SCRIPTS_DIR</span><span class="si">}</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">TF_VAR_inventory_file</span><span class="o">=</span><span class="si">${</span><span class="nv">CK8S_CONFIG_PATH</span><span class="si">}</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/inventory.ini
terraform<span class="w"> </span>init
terraform<span class="w"> </span>plan<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-var-file<span class="o">=</span><span class="si">${</span><span class="nv">CK8S_CONFIG_PATH</span><span class="si">}</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/cluster.tfvars<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-state<span class="o">=</span><span class="si">${</span><span class="nv">CK8S_CONFIG_PATH</span><span class="si">}</span>/<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>-config/terraform.tfstate
<span class="nb">popd</span>
</code></pre></div>
<h2 id="how-do-i-check-if-the-kubespray-setup-drifted-due-to-manual-intervention">How do I check if the Kubespray setup drifted due to manual intervention?<a class="headerlink" href="#how-do-i-check-if-the-kubespray-setup-drifted-due-to-manual-intervention" title="Permanent link">&para;</a></h2>
<p>At the time of this writing, this cannot be done, but <a href="https://github.com/cristiklein/kubespray/tree/make-check-work">efforts are underway</a>.</p>
<h2 id="how-do-i-check-if-apps-drifted-due-to-manual-intervention">How do I check if <code>apps</code> drifted due to manual intervention?<a class="headerlink" href="#how-do-i-check-if-apps-drifted-due-to-manual-intervention" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># For Management Cluster</span>
./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helmfile<span class="w"> </span>sc<span class="w"> </span>diff<span class="w">  </span><span class="c1"># Respond &quot;n&quot; if you get WARN</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># For the Workload Clusters</span>
./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>helmfile<span class="w"> </span>wc<span class="w"> </span>diff<span class="w">  </span><span class="c1"># Respond &quot;n&quot; if you get WARN</span>
</code></pre></div>
<h2 id="velero-backup-stuck-in-progress">Velero backup stuck in progress<a class="headerlink" href="#velero-backup-stuck-in-progress" title="Permanent link">&para;</a></h2>
<p>Velero is known to get stuck <code>InProgress</code> when doing backups</p>
<div class="highlight"><pre><span></span><code>velero<span class="w"> </span>backup<span class="w"> </span>get

NAME<span class="w">                                 </span>STATUS<span class="w">             </span>ERRORS<span class="w">   </span>WARNINGS<span class="w">   </span>CREATED<span class="w">                          </span>EXPIRES<span class="w">   </span>STORAGE<span class="w"> </span>LOCATION<span class="w">   </span>SELECTOR
velero-daily-backup-20211005143248<span class="w">   </span>InProgress<span class="w">         </span><span class="m">0</span><span class="w">        </span><span class="m">0</span><span class="w">          </span><span class="m">2021</span>-10-05<span class="w"> </span><span class="m">14</span>:32:48<span class="w"> </span>+0200<span class="w"> </span>CEST<span class="w">   </span>29d<span class="w">       </span>default<span class="w">            </span>!nobackup
</code></pre></div>
<p>First try to delete the backup</p>
<div class="highlight"><pre><span></span><code>./velero<span class="w"> </span>backup<span class="w"> </span>delete<span class="w"> </span>velero-daily-backup-20211005143248
</code></pre></div>
<p>Then kill all the pods under the velero namespace</p>
<div class="highlight"><pre><span></span><code>./bin/ck8s<span class="w"> </span>ops<span class="w"> </span>kubectl<span class="w"> </span>wc<span class="w"> </span>delete<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>velero<span class="w"> </span>--all
</code></pre></div>
<p>Check that the backup is gone</p>
<div class="highlight"><pre><span></span><code>velero<span class="w"> </span>backup<span class="w"> </span>get

NAME<span class="w">                                 </span>STATUS<span class="w">             </span>ERRORS<span class="w">   </span>WARNINGS<span class="w">   </span>CREATED<span class="w">                          </span>EXPIRES<span class="w">   </span>STORAGE<span class="w"> </span>LOCATION<span class="w">   </span>SELECTOR
</code></pre></div>
<p>Recreate the backup from a schedule</p>
<div class="highlight"><pre><span></span><code>velero<span class="w"> </span>backup<span class="w"> </span>create<span class="w"> </span>--from-schedule<span class="w"> </span>velero-daily-backup
</code></pre></div>
<h2 id="how-do-i-use-kubectl-and-helm-directly">How do I use <code>kubectl</code> and <code>helm</code> directly?<a class="headerlink" href="#how-do-i-use-kubectl-and-helm-directly" title="Permanent link">&para;</a></h2>
<p>This guide makes heavy use of the <code>compliantkubernetes-apps</code> CLI to access and control Compliant Kubernetes clusters. However, you can use <code>kubectl</code> and <code>helm</code> directly, by exporting a <code>KUBECONFIG</code> like so:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">KUBECONFIG</span><span class="o">=</span><span class="si">${</span><span class="nv">CK8S_CONFIG_PATH</span><span class="si">}</span>/.state/kube_config_<span class="si">${</span><span class="nv">CLUSTER</span><span class="si">}</span>.yaml

kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-A

helm<span class="w"> </span>list<span class="w"> </span>-A
</code></pre></div>







  
  



  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by <a href="https://github.com/elastisys/compliantkubernetes/issues/new/choose" target="_blank">filing an issue</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../clean-up/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Clean Up">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Clean Up
              </div>
            </div>
          </a>
        
        
          
          <a href="../faq/" class="md-footer__link md-footer__link--next" aria-label="Next: FAQ">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                FAQ
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  Elastisys AB <br/> The Linux Foundation has the following registered trademarks in the United States and/or other countries: Certified Kubernetes, containerd, fluentd, Helm, Istio, K8s, Kubernetes, Prometheus, PromQL, Rook, The Linux Foundation. <br/> The Linux Foundation has registrations pending or trademarks in use for the following marks in the United States and/or other countries: Argo, CoreDNS, Falco, Harbor, Jaeger, Linux Foundation, OpenTelemetry, OpenTracing, Open Policy Agent, Tekton, Thanos. <br/> Postgres and PostgreSQL and the Elephant Logo (Slonik) are all registered trademarks of the PostgreSQL Community Association of Canada. <br/> Redis is a trademark of Redis Ltd. Any rights therein are reserved to Redis Ltd. Any use by the Compliant Kubernetes project is for referential purposes only and does not indicate any sponsorship, endorsement or affiliation between Redis and Compliant Kubernetes project. <br/> RabbitMQ is a trademark of VMware, Inc. in the U.S. and other countries. <br/> TimescaleDB and the EON mascot are trademarks of <a href="https://www.timescale.com/">Timescale, Inc.</a> <br/> FerretDB is a registered trademark of FerretDB, Inc. FerretDB Inc. is not affiliated, associated, authorized, endorsed by, or in any way officially connected with MongoDB Inc., or any of its subsidiaries or its affiliates. <br/> MongoDB, Mongo, and the leaf logo are registered trademarks of MongoDB, Inc. <br/> Keycloak is a trademark of Red Hat Inc. <br/> OpenSearch is a registered trademark of Amazon Web Services. <br/> NGINX is a registered trademark of F5 Inc.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.tabs.link", "navigation.footer", "navigation.top"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../javascripts/feedback.js"></script>
      
    
  </body>
</html>